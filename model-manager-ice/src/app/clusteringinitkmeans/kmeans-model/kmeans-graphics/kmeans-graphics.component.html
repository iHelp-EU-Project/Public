<!-- <div class="container" *ngIf="mymodels">
	<div id="chartRegression">
		<apx-chart *ngIf="chartArrayRegressionGraphics" 
			[series]="chartArrayRegressionGraphics"
			[chart]="chartOptionsRegression.chart" 
			[plotOptions]="chartOptionsRegression.plotOptions"
			[title]="chartOptionsRegression.title">
		</apx-chart>
	</div>
</div> -->
<br>
	<div class="text-center align-items-center"   *ngIf="mymodels"> <strong>Model: {{modelName}}.{{dateModelCreateModels}}</strong></div>
<br>
	<div class="text-center align-items-center"   *ngIf="mymodels"> <h2 class="text">{{ 'DataPlotEx.Text' | translate}}</h2></div>

<br>
<div class="container" *ngIf="mymodels">
	<div id="chartRegression2">
		<apx-chart *ngIf="chartArrayRegressionGraphics2" 
			[series]="chartArrayRegressionGraphics2"
			[chart]="chartOptions.chart"
			[xaxis]="chartOptions.xaxis"
			[yaxis]="chartOptions.yaxis"
			[title]="chartOptions.title"
		></apx-chart>
	</div>
</div>

<div class="container">
		<div  id="chartClusterBoxplot" >
		<apx-chart *ngIf="chartArrayClusterBoxplotGraphics"
			[series]="chartArrayClusterBoxplotGraphics"
			[chart]="chartOptionsCluster.chart"
			[xaxis]="rank"
			[dataLabels]="chartOptionsCluster.dataLabels"
			[grid]="chartOptionsCluster.grid"
			[stroke]="chartOptionsCluster.stroke"
			[title]="chartOptionsCluster.title"
			[markers]="chartOptionsCluster.markers"
			[yaxis]="chartOptionsCluster.yaxis"
			[fill]="chartOptionsCluster.fill"
			[legend]="chartOptionsCluster.legend"

		></apx-chart>
		</div>
</div>

<div *ngIf="withoutQuotesAnomalyesMatrixHeaders">
	<hr>
	<mat-tab-group dynamicHeight mat-align-tabs="center">
		<mat-tab label="{{ 'DataMatrix.text' | translate}}">
			<div  style="overflow:auto; width:100%;height:100%;" class="container">
			<table *ngIf="withoutQuotesAnomalyesMatrixHeaders || csvDataMatrixBody" id="table-DataMatrix" datatable [dtOptions]="dtOptions" class="row-border hover ">
				<thead>
					<tr>
	
						<th *ngFor="let it of withoutQuotesAnomalyesMatrixHeaders ; let j = index">
                           
                         {{it}}
                          
						</th>
	
					</tr>
				</thead>
				<tbody style="width: 100%;">
	
					<tr *ngFor="let item of csvDataMatrixBodyMappedColumns ; let i = index">
						<td *ngFor="let it of item ; let j = index" >
								
								
									{{it}}
							
								
	
						</td>
					</tr>
	
                </tbody>
                <tfoot>
							<tr>
								<th *ngFor="let it of withoutQuotesAnomalyesMatrixHeaders ; let j = index">						
												{{it}}
								</th>	
							</tr>
						</tfoot>
	
			</table>
            </div>
            

			
				
		</mat-tab>
	
		
	</mat-tab-group>
	  <div class="container">
					<div id="chartMatrix">
						<apx-chart *ngIf="chartArrayMatrixGraphics" 
							  	[series]="chartArrayMatrixGraphics"
								[chart]="chartOptionsMatrix.chart"
								[xaxis]="rankMatrix"
								[fill]="chartOptionsMatrix.fill"
								[dataLabels]="chartOptionsMatrix.dataLabels"
								[title]="chartOptionsMatrix.title"
								[yaxis]="chartOptionsMatrix.yaxis"
								[tooltip]="chartOptionsMatrix.tooltip"
								[theme]="chartOptionsMatrix.theme">
								[legend]="chartOptionsMatrix.legend"

								
						</apx-chart>
					</div>
				</div>
	<hr>
</div><!-- card-Correlations -->

<div *ngIf="withoutQuotesAnomalyesPredictionHeaders">
	<hr>
	<mat-tab-group dynamicHeight mat-align-tabs="center">
		<mat-tab label="{{ 'BestModelPrediction.text' | translate}}">
			<div  style="overflow:auto; width:100%;height:100%;" class="container">
			<table *ngIf="withoutQuotesAnomalyesPredictionHeaders || csvDataPredictionBody" id="table-DataPrediction" datatable [dtOptions]="dtOptions" class="row-border hover ">
				<thead>
					<tr>
	
						<th *ngFor="let it of withoutQuotesAnomalyesPredictionHeaders ; let j = index">
                           
                         {{it}}
                          
						</th>
	
					</tr>
				</thead>
				<tbody style="width: 100%;">
	
					<tr *ngFor="let item of csvDataPredictionBodyJustTwentyRows ; let i = index">
						<td *ngFor="let it of item ; let j = index" >
								
								
									{{it}}
							
								
	
						</td>
					</tr>
	
                </tbody>
                <tfoot>
							<tr>
								<th *ngFor="let it of withoutQuotesAnomalyesPredictionHeaders ; let j = index">						
												{{it}}
								</th>	
							</tr>
						</tfoot>
	
			</table>
            </div>
            

			
				
		</mat-tab>
	
		
	</mat-tab-group>
	<div class="container">
		<div id="chartPredictPhase">
			<apx-chart *ngIf="clusters"
				[series]="clusters"
				[chart]="chartOptionsBar.chart"
				[dataLabels]="chartOptionsBar.dataLabels"
				[plotOptions]="chartOptionsBar.plotOptions"
				[legend]="chartOptionsBar.legend"
				[xaxis]="xaxisBar.xaxis"
			></apx-chart>
		</div>
	</div>
	   <!-- <div class="container">
					<div id="chartMatrix">
						<apx-chart *ngIf="true" 
							  	[series]="chartOptionsMatrix.series"
								[chart]="chartOptionsMatrix.chart"
								[xaxis]="chartOptionsMatrix.xaxis"
								[fill]="chartOptionsMatrix.fill"
								[dataLabels]="chartOptionsMatrix.dataLabels"
								[title]="chartOptionsMatrix.title"
								[yaxis]="chartOptionsMatrix.yaxis"
								[tooltip]="chartOptionsMatrix.tooltip"
								[theme]="chartOptionsMatrix.theme">
						</apx-chart>
					</div>
				</div> -->
	<hr>
</div><!-- card-Correlations -->


	
	<hr>


	<!--  <div class="container">
					<div id="TrueLabel">
						<apx-chart *ngIf="arraySerieTL"
							[series]="arraySerieTL"
							[chart]="chartTrueLabel.chart"
							[xaxis]="chartTrueLabel.xaxis"
							[yaxis]="chartTrueLabel.yaxis"
							[title]="chartTrueLabel.title"
						></apx-chart>
						</div>

				</div> -->

	<hr>
<!-- </div>card-Correlations -->

<div *ngIf="withoutQuotesAnomalyesPhaseHeaders">
	<hr>
	<mat-tab-group dynamicHeight mat-align-tabs="center">
		<mat-tab label="{{ 'Dispersion.text' | translate}}">
			<div  style="overflow:auto; width:100%;height:100%;" class="container">
			<table *ngIf="withoutQuotesAnomalyesPhaseHeaders || csvDataPhaseBody" id="table-DataPhase" datatable [dtOptions]="dtOptions" class="row-border hover "><!--table-responsive display compact-->
				<thead>
					<tr>
	
						<th *ngFor="let it of withoutQuotesAnomalyesPhaseHeaders ; let j = index">
                           
                         {{it}}
                          
						</th>
	
					</tr>
				</thead>
				<tbody style="width: 100%;">
	
					<tr *ngFor="let item of csvDataPhaseBodyJustTwentyRows ; let i = index">
						<td *ngFor="let it of item ; let j = index" >
								
								
									{{it}}
							
								
	
						</td>
					</tr>
	
                </tbody>
                <tfoot>
							<tr>
								<th *ngFor="let it of withoutQuotesAnomalyesPhaseHeaders ; let j = index">						
												{{it}}
								</th>	
							</tr>
						</tfoot>
	
			</table>
            </div>
            

			
				
		</mat-tab>
	
		
	</mat-tab-group>
	  <div class="container">
					<div id="chartPoints">
						<apx-chart *ngIf="chartArrayPhaseGraphics"
							[series]="chartArrayPhaseGraphics"
							[chart]="chartOptionsPoints.chart"
							[xaxis]="chartOptionsPoints.xaxis"
							[yaxis]="chartOptionsPoints.yaxis"
						></apx-chart>
						</div>

				</div>
				 <!-- <div class="container">
					<div id="chartPoints2">
						<apx-chart *ngIf="chartArrayPhaseGraphics2"
							[series]="chartArrayPhaseGraphics2"
							[chart]="chartOptionsPoints2.chart"
							[xaxis]="chartOptionsPoints2.xaxis"
							[yaxis]="chartOptionsPoints2.yaxis"
						></apx-chart>
						</div>

				</div> -->

		<div class="container">
					<div id="PredictionCluster12">
						<apx-chart *ngIf="arraySeriesAggregated12  && numberColumnasPredict < 3"
							[series]="arraySeriesAggregated12"
							[chart]="chartPredictionCluster12.chart"
							[xaxis]="chartPredictionCluster12.xaxis"
							[yaxis]="chartPredictionCluster12.yaxis"
							[title]="chartPredictionCluster12.title"
						></apx-chart>
						</div>

				</div>


	<hr>
	<!-- <div class="container">
					<div id="PredictionCluster14">
						<apx-chart *ngIf="arraySeriesAggregated14"
							[series]="arraySeriesAggregated14"
							[chart]="chartPredictionCluster14.chart"
							[xaxis]="chartPredictionCluster14.xaxis"
							[yaxis]="chartPredictionCluster14.yaxis"
							[title]="chartPredictionCluster14.title"
						></apx-chart>
						</div>

				</div>


	<hr> -->
	<!-- <div class="container">
					<div id="PredictionClusterCentroids">
						<apx-chart *ngIf="arraySeriesAggregatedCentroids"
							[series]="arraySeriesAggregatedCentroids"
							[chart]="chartPredictionClusterCentroids.chart"
							[xaxis]="chartPredictionClusterCentroids.xaxis"
							[yaxis]="chartPredictionClusterCentroids.yaxis"
							[title]="chartPredictionClusterCentroids.title"
						></apx-chart>
						</div>

				</div>


	<hr> -->

	<div class="container">
					<div id="PredictionClusterConstrained">
						<apx-chart *ngIf="arraySeriesAggregatedConstrained  && numberColumnasPredict < 3"
							[series]="arraySeriesAggregatedConstrained"
							[chart]="chartPredictionClusterConstrained.chart"
							[xaxis]="chartPredictionClusterConstrained.xaxis"
							[yaxis]="chartPredictionClusterConstrained.yaxis"
							[title]="chartPredictionClusterConstrained.title"
						></apx-chart>
						</div>

				</div>

	<!-- <div class="container">
					<div id="PredictionClusterStandard">
						<apx-chart *ngIf="arraySeriesAggregatedStandard"
							[series]="arraySeriesAggregatedStandard"
							[chart]="chartPredictionClusterStandard.chart"
							[xaxis]="chartPredictionClusterStandard.xaxis"
							[yaxis]="chartPredictionClusterStandard.yaxis"
							[title]="chartPredictionClusterStandard.title"
						></apx-chart>
						</div>

				</div>
-->
<hr>
	<div class="container">
					<div id="PredictionClusterConstrained12">
						<apx-chart *ngIf="arraySeriesAggregatedConstrained12 && numberColumnasPredict < 3"
							[series]="arraySeriesAggregatedConstrained12"
							[chart]="chartPredictionClusterConstrained12.chart"
							[xaxis]="chartPredictionClusterConstrained12.xaxis"
							[yaxis]="chartPredictionClusterConstrained12.yaxis"
							[title]="chartPredictionClusterConstrained12.title"
						></apx-chart>
						</div>

				</div>
<!--
	<div class="container">
					<div id="PredictionClusterConstrained">
						<apx-chart *ngIf="arraySeriesAggregatedConstrained14"
							[series]="arraySeriesAggregatedConstrained14"
							[chart]="chartPredictionClusterConstrained14.chart"
							[xaxis]="chartPredictionClusterConstrained14.xaxis"
							[yaxis]="chartPredictionClusterConstrained14.yaxis"
							[title]="chartPredictionClusterConstrained14.title"
						></apx-chart>
						</div>

				</div>

 -->

	<hr>

	
</div><!-- card-Correlations -->
<div class="box">
    <br>
	<div class="text-center align-items-center"   > <h2 class="text">{{ 'ShapExplanation.Text' | translate}}</h2></div>
    <br>
    <br>
   <div>
	 	<mat-tab-group dynamicHeight mat-align-tabs="center">
			<mat-tab label="Mean SHAP">
				<div >
					<h3 class="text">{{ 'MeanBar.Text' | translate}}</h3>
					<img class="drop" width="50%" height="50%"
						src="/users/files/downloadPicturesShapPlots/Mean_SHAP.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_Mean_SHAP.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Summary Plot Violin">
				<div>
					<h3 class="text">{{ 'SummaryPlotBarViolin.Text' | translate}}</h3>
					<img class="drop" width="50%" height="50%"
						src="/users/files/downloadPicturesShapPlots/summary_plot_violin.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_summary_plot_violin.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Summary Plot Dot">
				<div>
					<h3 class="text"> {{ 'SummaryPlotBarDot.Text' | translate}}</h3>
					<button class="drop" (click)="openPopup()" width="60%" height="70%" style="background-color: transparent; border-color: transparent;">
						<img class="drop" width="60%" height="70%"
						src="/users/files/downloadPicturesShapPlots/summary_plot_dot.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_summary_plot_dot.png" /></button>
						<div
						class="modal"
						tabindex="-1"
						role="dialog"
						[ngStyle]="{'display':displayStyle}">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
							<div class="modal-header align-items-center">
								<h4  class="modal-title w-100 text-center">Dynamic Plot</h4>
							</div>
							<div class="modal-body" id="SummaryPlotBarDot" style="width: auto;" >
								<!-- <div [innerHTML]="inputhtml" style="width: auto;" ></div>  -->
								<iframe [srcdoc]="userSummaryDothtml | sanitizeHtml" width="525" height="650" target="page" frameBorder="0" style="border:none;"></iframe> 
								<!-- <div [innerHTML]="userSummaryDothtml | sanitizeHtml" width="440" height="390" ></div>  -->
								<!-- <a href="/users/files/downloadPicturesShapPlots/summary_plot_dot.html?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}" target="_blank" rel="noopener noreferrer">Click here</a> -->
							</div>
							<div class="modal-footer">
								<button align="center" type="button" class="btn btn-secondary btn-lg back center"  style="width: 100%;" 
										(click)="closePopup()">
								Close
								</button>
							</div>
							</div>
						</div>
						</div>
						
				</div>

			</mat-tab>
			<mat-tab  label="Weights">
				<div>
					<h3 class="text"> {{ 'Weight.Text' | translate}}</h3>
					<img class="drop" width="100%" height="100%"
						src="/users/files/downloadPicturesShapPlots/weight.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_weight.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Waterfall">
				<div>
					<h3 class="text"> {{ 'WaterFall.Text' | translate}}</h3>
					<img class="drop" width="50%" height="70%"
						src="/users/files/downloadPicturesShapPlots/waterfall.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_waterfall.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Heatmap">
				<div>
					<h3 class="text"> {{ 'HeatMap.Text' | translate}}</h3>
					<img class="drop" width="50%" height="50%"
						src="/users/files/downloadPicturesShapPlots/heatmap.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_heatmap.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Cohort Plot">	
				<div>
					<h3 class="text">{{ 'Legend.Text' | translate}}</h3>
					<img class="drop" width="50%" height="50%"
						src="/users/files/downloadPicturesShapPlots/legend.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_legend.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Decision Plot by testing rows">
				 <ng-template matTabContent>
						<h3 class="text"> {{ 'Observation.Text' | translate}}</h3>
						<div class="container" *ngIf="barForce" style="margin-left: 20%;">
							<carousel   [images] = "observation"
										[objectFit]="'cover'"
										[cellWidth]="'100%'"
										[height]="1000"
										[width]="1500"
										[autoplay]="true"
										[dots]="true"
										[loop]="true"
										[arrowsOutside]="true">
								</carousel>
						</div>
				</ng-template>

			</mat-tab>
			<mat-tab  label="Decision Plot link Logic ">				<div>
					<h3 class="text"> {{ 'DecisionPlotAll.Text' | translate}}</h3>
					<img class="drop" width="50%" height="70%"
						src="/users/files/downloadPicturesShapPlots/decision_plot_all.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_decision_plot_all.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Decision plot link Normally">				<div>
					<h3 class="text"> {{ 'DecisionPlotAllN.Text' | translate}}</h3>
					<img class="drop" width="50%" height="70%"
						src="/users/files/downloadPicturesShapPlots/decision_plot_all_n.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_decision_plot_all_n.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Bar Force Plot">		
				<ng-template matTabContent>		
					<h3 class="text"> {{ 'BarForce.Text' | translate}}</h3>
					<div *ngIf="barForce">
								<carousel   [images] = "barForce"
											[objectFit]="'cover'"
											[cellWidth]="'100%'"
											[height]="600"
											[autoplay]="true"
											[dots]="true"
											[loop]="true"
											[arrowsOutside]="true">
									</carousel>
							</div>
				</ng-template>
			</mat-tab>
			<mat-tab  label="Normal Multiclass">
				<div>
					<h3 class="text"> {{ 'Multiclass.Text' | translate}}</h3>
					<img class="drop" width="80%" height="50%"
						src="/users/files/downloadPicturesShapPlots/Multiclass.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_Multiclass.png" />
				</div>
			</mat-tab>
			<mat-tab  label="Shap Multiclass">
				<div>
					<h3 class="text"> {{ 'ShapMulticlass.Text' | translate}}</h3>
					<img class="drop" width="50%" height="70%"
						src="/users/files/downloadPicturesShapPlots/Shap_Multiclass.png?username={{currentUser.username}}&modelsname={{modelName}}.{{dateModelCreateModels}}"
						id="{{modelName}}.{{dateModelCreateModels}}_Shap_Multiclass.png" />
				</div>
			</mat-tab>
		</mat-tab-group>

	</div>

</div>

<hr>
	

	 <hr>
	<div *ngIf="clusters" class="container">
		<div  class="container col-3 col-md-1 contenidoButton">
			<div *ngIf="!mymodels">
				<button 
						class="btn btn-secondary btn-lg back"  style="width: 100%; margin-right: 150px">
						<a style="color: aliceblue;" [routerLink]="['/home']" (click)="saveFinish()">
						{{ 'FinishUploadModel.text' | translate}}
						</a>
				</button>
			</div>
			<div>
				<button 
						
						class="btn btn-secondary btn-lg back" style="background-color: #4A4A4A; width: 200%; ">
						<a style="color: aliceblue;" (click)="deleteModels()" [routerLink]="['/home']">{{ 'DeleteModel.text' | translate}}<i class="fas fa-angle-double-right"></i></a>
				</button>		
			</div>	
		</div>
		<hr>
	</div>